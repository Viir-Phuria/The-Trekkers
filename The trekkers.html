<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        h3{
            color:forestgreen;
        }

    </style>
    <script
    src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"></script>
    <script>
        
        var validRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
        var people;
        var total;
        function SubForm()
        {console.log(document.getElementById("people").value);
            if(document.getElementById("input name").value!="" & document.getElementById("input email").value!="" & document.getElementById("input number").value!="" & /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(document.getElementById("input email").value))
            {document.getElementById("output").style.opacity=1;
            document.getElementById("output").style.zIndex=1;
            document.getElementById("input").style.opacity=0;
            document.getElementById("input").style.zIndex=-1;
            document.getElementById("Confirmation").style.backgroundColor="seagreen";
            document.getElementById("name").innerHTML="Name:"+document.getElementById("input name").value;
            document.getElementById("email").innerHTML="Email:"+document.getElementById("input email").value;
            document.getElementById("number").innerHTML="Phone No.:"+document.getElementById("input number").value;
            people=document.getElementById("people").value;
            document.getElementById("first").innerHTML="Number of people:"+people;
            document.getElementById("second").innerHTML="Price per head:Rs."+600;
            if(people>4)
            {
                document.getElementById("third").innerHTML=people+" x "+600+" - 10%";
                document.getElementById("fourth").innerHTML="Total:Rs."+(people*600)*0.9;
                alert("You hav recieved a special 10% discount for a booking of more than 4.")}
            else
            {
                document.getElementById("third").innerHTML=people+"x"+600;
                document.getElementById("fourth").innerHTML="Total:Rs."+people*600;
            }
            }
            else
            {
                document.getElementById("warning").innerHTML="Please enter all fields";
            }
            if(document.getElementById("jain").checked)
            {document.getElementById("food").innerHTML="Food: Jain";
        }
        else if(document.getElementById("non jain").checked)
        {
            document.getElementById("food").innerHTML="Food: Non-Jain";
        }
        $.ajax({
				url:"https://api.apispreadsheets.com/data/B4hr3eSzb7S4e0St/",
				type:"post",
				data:$("#myForm").serializeArray(),
				success: function(){
					alert("Form Data Submitted :)")
				},
				error: function(){
					alert("There was an error :(")
				}
			});
        }
        function Back()
        {
            document.getElementById("input").style.opacity=1;
            document.getElementById("input").style.zIndex=1;
            document.getElementById("output").style.opacity=0;
            document.getElementById("output").style.zIndex=-1;
            document.getElementById("Confirmation").style.backgroundColor="lawngreen";
            document.getElementById("warning").innerHTML="";
        }
    </script>
</head>
<body>
    <div style="position: absolute; height: 60%; border-radius: 15px; border-width: 5px; border-color: forestgreen; margin: 20px; border-style: solid; height: 90%;">
        <button style="width: 500px; height: 100px; background-color: seagreen; border-width: 0px; padding: 0;">Contact Details</button>
        <button id="Confirmation" style="width: 500px; height: 100px; border-width: 0px; background-color: lawngreen; padding: 0;">Confirmation</button>
        <div style="position: absolute;" id="input">
        <br>
        <h3>Contact Details</h3>
        <form id="myForm">
            <label >Full Name</label>
            <br/>
            <input id="input name" name="full_name" required/>
            <br/>
            <label >Email</label>
            <br/>
            <input id="input email" type="email" name="email" required/>
            <br>
            <label >Phone No.</label>
            <br>
            <input id="input number" type="number" name="phone_no" required>
            <br>
            <input id="jain" type="radio" name="Jain">
            <label>Jain</label>
            <br>
            <input id="non jain" type="radio" name="Jain"/>
            <label>Non Jain</label>
            <br/>
            <label>Number of people</label>
            <select name="people" id="people">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
            </select>
            <br/>
          
          <button type="button" onclick="SubForm()">Submit</button>
          <p id="warning" style="color: red;"></p>
        </form>
        </div>
    <div style="position: absolute; opacity: 0; z-index: -1; margin-left: 500px;" id="output">
        <h3>Review Your booking</h3>
        <ul>
            <li>Event Name</li>
            <li id="name">Full Name</li>
            <li id="email">email</li>
            <li id="number">number</li>
            <li id="food">Food</li>
        </ul>
        <h3>Payment Details</h3>
        <ul>
            <li id="first"></li>
            <li id="second"></li>
            <li id="third"></li>
            <li id="fourth"></li>
        <br>
        <h3>Payment Methods</h3>
        <button>Pay Now</button>
        <br>
        <br>
        <button onclick="Back()">Back</button>
    </div>
    </div>
</body>
</html>
